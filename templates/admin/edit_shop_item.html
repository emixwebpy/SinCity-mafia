{% extends "base.html" %}
{% block title %}Edit Shop Item{% endblock %}
{% block content %}
<div class="dashboard-hero">
    <h2 style="color:#ffd700;">Edit Shop Item: {{ item.name }}</h2>
    <form method="POST">
        <label>Name:</label>
        <input type="text" name="name" value="{{ item.name }}" required><br>
        <label>Description:</label>
        <input type="text" name="description" value="{{ item.description }}"><br>
        <label>Price:</label>
        <input type="number" name="price" min="1" value="{{ item.price }}" required><br>
        <label>Stock:</label>
        <input type="number" name="stock" min="0" value="{{ item.stock }}" required><br>
        <label>Is Gun:</label>
        <input type="checkbox" name="is_gun" value="1" id="is_gun_cb" {% if item.is_gun %}checked{% endif %} onchange="document.getElementById('damage_row').style.display=this.checked?'block':'none';"><br>
        <div id="damage_row" style="display: '{{ 'block' if item.is_gun else 'none' }}';">
            <label>Damage:</label>
            <input type="number" name="damage" min="0" value="{{ item.damage }}"><br>
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var cb = document.getElementById('is_gun_cb');
    var row = document.getElementById('damage_row');
    if(cb.checked) row.style.display = 'block';
});
</script>
{% endblock %}