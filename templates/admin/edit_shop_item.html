{% extends "base.html" %}
{% block title %}Edit Shop Item{% endblock %}
{% block content %}
<div class="dashboard-hero">
    <h2 style="color:#ffd700;">Edit Shop Item: {{ item.name }}</h2>
    <form method="POST">
        {{ form.hidden_tag() }}
        <label>Name:</label>
        {{ form.name(class_="form-control", required=True) }}<br>
        <label>Description:</label>
        {{ form.description(class_="form-control") }}<br>
        <label>Price:</label>
        {{ form.price(class_="form-control", min=1, required=True) }}<br>
        <label>Stock:</label>
        {{ form.stock(class_="form-control", min=0, required=True) }}<br>
        <label>Is Gun:</label>
        {{ form.is_gun(class_="form-check-input", id="is_gun_cb", onchange="document.getElementById('damage_row').style.display=this.checked?'block':'none';") }}<br>
        <div id="damage_row" style="display:none;">
            <label>Damage:</label>
            {{ form.damage(class_="form-control", min=0) }}<br>
        </div>
        {{ form.submit(class_="btn btn-primary") }}
    </form>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var cb = document.getElementById('is_gun_cb');
    var row = document.getElementById('damage_row');
    if(cb.checked) row.style.display = 'block';
});
</script>
{% endblock %}